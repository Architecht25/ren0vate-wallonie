<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ren0vate/Primes RF</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Feuille de style CSS -->
  <link rel="stylesheet" href="CSS/style.css">
  <link rel="stylesheet" href="CSS/components/card.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
  <script type="importmap">
  {
    "imports": {
      "sweetalert2": "https://cdn.jsdelivr.net/npm/sweetalert2@11.7.1/+esm",
      "bootstrap": "https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    }
  }
</script>
</head>
<body class="p-4 text-center">

  <!-- d√©p√¥t ici des codes pour introduction des demandes de primes -->
  <h1 class="mb-4 text-center w-100">Pr√©avisualisation votre demande via votre formulaire Miroir et introduisez ensuite votre demande</h1>

  <!-- √âtape 0 : Condition pr√©alable -->
  <section id="section-condition" class="formulaire-prime mt-5">
    <h3>0. Conditions pr√©alables</h3>
    <p>Le d√©p√¥t de votre demande ne peut se faire que si vous √™tes domicili√© dans votre bien apr√®s travaux</p>
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="domicile" name="domicile" value="domicile" required>
      <label class="form-check-label" for="domicile">Etes-vous bien domicili√© dans votre bien?</label>
    </div>
  </section>

  <!-- √âtape 1 & 2: Profil du demandeur + Donn√©es du logement -->
  <section id="section-profil" class="formulaire-prime mt-5">
    <h3>1. Profil du demandeur</h3>

    <label for="type-demandeur">Type de demandeur *</label>
    <select id="type-demandeur" name="type_demandeur" required>
      <option disabled selected value="">-- S√©lectionnez --</option>
      <option value="particulier">Particulier</option>
      <option value="societe">Soci√©t√©</option>
      <option value="syndic">Syndicat de copropri√©t√©</option>
      <option value="bailleur_social">Bailleur social</option>
      <option value="asbl_cooperative">ASBL ou Coop√©rative</option>
    </select>

    <label for="nom">Nom du demandeur *</label>
    <input type="text" id="nom" name="nom" required />

    <label for="prenom">Pr√©nom du demandeur *</label>
    <input type="text" id="prenom" name="prenom" required />

    <label for="registre-national">Num√©ro de registre national ou BCE *</label>
    <input type="text" id="registre-national" name="registre_national" required />

    <label for="telephone">T√©l√©phone *</label>
    <input type="tel" id="telephone" name="telephone" required />

    <label for="email">Adresse email *</label>
    <input type="email" id="email" name="email" required />
  </section>

  <!-- √âtape 2 : Donn√©es du logement concern√© -->
  <section id="section-logement" class="formulaire-prime mt-5">
    <h3 class="mt-4">2. Donn√©es du logement concern√©</h3>

    <label for="adresse">Votre code EAN*</label>
    <input type="text" id="ean" name="ean" placeholder="Ex: 54144..." />

    <label for="adresse">Adresse du logement *</label>
    <input type="text" id="adresse" name="adresse" required />

    <label for="code-postal">Code postal *</label>
    <input type="text" id="code-postal" name="code_postal" required />

    <label for="commune">Commune *</label>
    <input type="text" id="commune" name="commune" required />

    <label for="type-bien">Type de bien *</label>
    <select id="type-bien" name="type_bien" required>
      <option disabled selected value="">-- S√©lectionnez --</option>
      <option value="maison">Maison unifamiliale</option>
      <option value="appartement">Appartement</option>
      <option value="immeuble">Immeuble avec plusieurs unit√©s</option>
    </select>

    <label for="usage">Usage du bien *</label>
    <select id="usage" name="usage" required>
      <option disabled selected value="">-- S√©lectionnez --</option>
      <option value="residence_principale">R√©sidence principale</option>
      <option value="location">Bien en location</option>
      <option value="autre">Autre</option>
    </select>

    <label for="parcelle">Num√©ro de parcelle (optionnel)</label>
    <input type="text" id="parcelle" name="parcelle" />
  </section>

  <!-- √âtape 2.1 : Informations compl√©mentaires -->
  <section id="section-infos-complementaires" class="formulaire-prime mt-5">
    <h3 class="mt-4">2.1 Informations compl√©mentaires sur le syst√®me de chauffage</h3>
    <label for="chauffage-post-renovation">Syst√®me de chauffage apr√®s r√©novation *</label>
      <select id="chauffage-post-renovation" name="chauffage_post_renovation" required>
        <option disabled selected value="">-- S√©lectionnez --</option>
        <option value="gaz">Chauffage central au gaz (condensation)</option>
        <option value="mazout">Chauffage au mazout</option>
        <option value="electrique">Chauffage √©lectrique direct</option>
        <option value="pac-air-eau">Pompe √† chaleur air/eau</option>
        <option value="pac-geothermique">Pompe √† chaleur g√©othermique</option>
        <option value="reseau-chaleur">R√©seau de chaleur</option>
        <option value="bois">Po√™le / insert bois / biomasse</option>
        <option value="autre">Autre (√† sp√©cifier)</option>
        <option value="ne_sais_pas">Je ne sais pas</option>
      </select>
  </section>

  <!-- √âtape 3 : Travaux √† d√©clarer -->
  <section id="travaux-section" class="formulaire-prime mt-5">
    <h3>3. Travaux √† d√©clarer</h3>
    <p>Veuillez cocher les types de travaux envisag√©s et compl√©ter les champs demand√©s pour chaque type s√©lectionn√©.</p>

    <!-- Isolation toiture -->
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="travaux-toiture" name="travaux[]" value="toiture">
      <label class="form-check-label" for="travaux-toiture">Isolation de la toiture</label>
    </div>
    <div id="details-toiture" class="travaux-details d-none">
      <label for="surface-toiture">Surface (m¬≤)</label>
      <input type="number" id="surface-toiture" name="surface_toiture" min="0" step="1">
      <label for="type-toiture">M√©thode</label>
      <select id="type-toiture" name="type_toiture">
        <option value="">-- S√©lectionnez --</option>
        <option value="interieur">Par l‚Äôint√©rieur</option>
        <option value="exterieur">Par l‚Äôext√©rieur</option>
      </select>
    </div>

    <!-- Isolation murs ext√©rieurs -->
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="travaux-murs" name="travaux[]" value="murs">
      <label class="form-check-label" for="travaux-murs">Isolation des murs ext√©rieurs</label>
    </div>
    <div id="details-murs" class="travaux-details d-none">
      <label for="surface-murs">Surface (m¬≤)</label>
      <input type="number" id="surface-murs" name="surface_murs" min="0" step="1">
      <label for="type-murs">M√©thode</label>
      <select id="type-murs" name="type_murs">
        <option value="">-- S√©lectionnez --</option>
        <option value="creux">Murs creux</option>
        <option value="interieur">Par l‚Äôint√©rieur</option>
        <option value="exterieur">Par l‚Äôext√©rieur</option>
      </select>
    </div>

    <!-- Vitrage -->
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="travaux-vitrage" name="travaux[]" value="vitrage">
      <label class="form-check-label" for="travaux-vitrage">Remplacement du vitrage</label>
    </div>
    <div id="details-vitrage" class="travaux-details d-none">
      <label for="surface-vitrage">Surface (m¬≤)</label>
      <input type="number" id="surface-vitrage" name="surface_vitrage" min="0" step="1">
    </div>

    <!-- Isolation du sol -->
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="travaux-sol" name="travaux[]" value="sol">
      <label class="form-check-label" for="travaux-sol">Isolation du sol ou des caves</label>
    </div>
    <div id="details-sol" class="travaux-details d-none">
      <label for="surface-sol">Surface (m¬≤)</label>
      <input type="number" id="surface-sol" name="surface_sol" min="0" step="1">
    </div>

    <!-- Chauffage (chaudi√®re ou PAC) -->
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="travaux-chauffage" name="travaux[]" value="chauffage">
      <label class="form-check-label" for="travaux-chauffage">Installation d'une pompe √† clhaleur et chauffe-eau thermodynamique</label>
    </div>
    <div id="details-chauffage" class="travaux-details d-none">
      <label for="type-chauffage">Type de syst√®me</label>
      <select id="type-chauffage" name="type_chauffage">
        <option value="">-- S√©lectionnez --</option>
        <option value="pac-geothermique">Pompe √† chaleur g√©othermique</option>
        <option value="pac-air-eau">Pompe √† chaleur air/eau</option>
        <option value="pac-air-air">Pompe √† chaleur air/air</option>
        <option value="hybride">Pompe √† chaleur hybride</option>
        <option value="boiler">Boiler thermodynamique</option>
      </select>
    </div>

  </section>

  <!-- √âtape 3.1 ‚Äì Travaux compl√©mentaires et non subventionn√©s -->
  <section id="travaux-complementaires" class="formulaire-prime mt-5">
    <h4 class="mb-4">üîß Travaux compl√©mentaires (pr√©paratoires ou non subventionn√©s)</h4>

    <!-- Travaux pr√©paratoires -->
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="travaux-preparatoires" name="travaux[]" value="preparatoires">
      <label class="form-check-label fw-bold" for="travaux-preparatoires">
        Travaux pr√©paratoires √† l‚Äôisolation
      </label>
    </div>
    <div id="details-preparatoires" class="travaux-details d-none ms-3">
      <label for="type-preparatoires">Type de pr√©paratifs</label>
      <input type="text" id="type-preparatoires" name="type_preparatoires" placeholder="Ex : retrait du plafonnage" class="form-control mb-2">
      <label for="montant-preparatoires">Montant total factur√© (‚Ç¨)</label>
      <input type="number" id="montant-preparatoires" name="montant_preparatoires" min="0" step="10" class="form-control">
    </div>

    <!-- Travaux d‚Äô√©lectricit√© -->
    <div class="form-check mt-4">
      <input class="form-check-input" type="checkbox" id="travaux-electricite" name="travaux[]" value="electricite">
      <label class="form-check-label fw-bold" for="travaux-electricite">
        Travaux pr√©paratoire sanitaires et √©lectricit√©
      </label>
    </div>
    <div id="details-electricite" class="travaux-details d-none ms-3">
      <label for="type-electricite">Nature des travaux</label>
      <input type="text" id="type-electricite" name="type_electricite" placeholder="Ex : Mise en conformit√© RGIE, tableau √©lectrique‚Ä¶" class="form-control mb-2">
      <label for="montant-electricite">Montant estim√© ou factur√© (‚Ç¨)</label>
      <input type="number" id="montant-electricite" name="montant_electricite" min="0" step="10" class="form-control">
    </div>
  </section>

  <!-- √âtape 4 : Revenus et cat√©gorie de prime -->
  <section id="section-revenus" class="formulaire-prime mt-5">
    <h3>4. Revenus et composition du m√©nage</h3>

    <!-- Revenus imposables du m√©nage -->
    <label for="revenus-annuels">Revenus annuels imposables (m√©nage complet) *</label>
    <input type="number" id="revenus-annuels" name="revenus_annuels" min="0" step="100" placeholder="Ex : 42 000" required>

    <!-- Ann√©e de l'AER -->
    <label for="annee-aer">Ann√©e de l‚Äôavertissement extrait de r√¥le utilis√© *</label>
    <select id="annee-aer" name="annee_aer" required>
      <option disabled selected value="">-- S√©lectionnez une ann√©e --</option>
      <option value="2023">2023 (revenus 2022)</option>
      <option value="2022">2022 (revenus 2021)</option>
      <option value="2021">2021 (revenus 2020)</option>
    </select>

    <!-- Composition du m√©nage -->
    <label for="nombre-personnes-charge">Nombre de personnes √† charge *</label>
    <input type="number" id="nombre-personnes-charge" name="personnes_charge" min="0" max="10" value="0" required>
  </section>

  <!-- √âtape 5 : Documents √† fournir -->
  <section id="section-documents" class="formulaire-prime mt-5">
  <h3>5. Documents justificatifs</h3>

  <p class="mb-3">Joignez les documents n√©cessaires √† l‚Äôanalyse de votre demande. Les formats accept√©s sont PDF, JPG ou PNG.</p>

  <!-- Devis -->
  <label for="upload-factures">üìé Devis des travaux *</label>
  <input type="file" id="upload-devis" name="document_devis" accept=".pdf,.jpg,.jpeg,.png" multiple required>

  <!-- Factures -->
  <label for="upload-factures">üìé Factures des travaux *</label>
  <input type="file" id="upload-factures" name="document_factures" accept=".pdf,.jpg,.jpeg,.png" multiple required>

  <!-- Etats d'avancement -->
  <label for="upload-avancement">üìä Etats d'avancement (si disponible)</label>
  <input type="file" id="upload-avancement" name="document_avancement" accept=".pdf,.jpg,.jpeg,.png">

  <!-- Attestations entrepreneur -->
  <label for="upload-attestations">üßë‚Äçüîß Attestations des entrepreneurs</label>
  <input type="file" id="upload-attestations" name="document_attestations" accept=".pdf,.jpg,.jpeg,.png" multiple>

  <!-- PEB -->
  <label for="upload-peb">üìä Certificat PEB (si disponible)</label>
  <input type="file" id="upload-peb" name="document_peb" accept=".pdf,.jpg,.jpeg,.png">

  <!-- photo -->
  <label for="upload-photo">üìä Photos</label>
  <input type="file" id="upload-photo" name="document_photo" accept=".pdf,.jpg,.jpeg,.png">

  <!-- label -->
  <label for="upload-label">üìä label europ√©en</label>
  <input type="file" id="upload-label" name="document_label" accept=".pdf,.jpg,.jpeg,.png">

  <!-- conformit√© -->
  <label for="upload-conformit√©">üìä Attestations de conformit√©</label>
  <input type="file" id="upload-conformit√©" name="document_conformit√©" accept=".pdf,.jpg,.jpeg,.png">

  <!-- plans -->
  <label for="upload-plans">üìä Plans</label>
  <input type="file" id="upload-plans" name="document_plans" accept=".pdf,.jpg,.jpeg,.png">

  <!-- permis -->
  <label for="upload-permis">üìä Permis</label>
  <input type="file" id="upload-permis" name="document_permis" accept=".pdf,.jpg,.jpeg,.png">

  <!-- Autres documents -->
  <label for="upload-autres">üìÇ Autres documents utiles</label>
  <input type="file" id="upload-autres" name="document_autres" accept=".pdf,.jpg,.jpeg,.png" multiple>

  </section>

  <!-- √âtape 6 : Soumission du formulaire -->
  <section id="section-soumission" class="formulaire-prime mt-5">
  <h3>6. Soumission de la demande</h3>

  <!-- R√©capitulatif -->
  <p class="mb-3">
    Vous √™tes sur le point de soumettre votre demande de primes. Veuillez v√©rifier que toutes les informations sont correctes et que les documents justificatifs ont bien √©t√© joints.
  </p>

  <!-- Confirmation utilisateur -->
  <div class="form-check my-3">
    <input class="form-check-input" type="checkbox" id="confirmation-veracite" name="confirmation_veracite" required>
    <label class="form-check-label fw-bold" for="confirmation-veracite">
      Je confirme que les informations fournies sont exactes et compl√®tes √† ma connaissance.
    </label>
  </div>

  <!-- Email de contact -->
  <label for="email-contact">üìß Adresse email pour le suivi de la demande *</label>
  <input type="email" id="email-contact" name="email_contact" placeholder="Ex : nom@email.com" required>

  <!-- Envoi -->
  <div class="mt-4 d-flex flex-column flex-md-row gap-3">
    <button type="submit" class="btn-custom custom-primary">
      üì© Soumettre la demande
    </button>
    <button type="button" class="btn-custom custom-primary" onclick="telechargerResume()">
      üíæ T√©l√©charger le r√©sum√© PDF
    </button>
  </div>

  <!-- Message de validation -->
  <div id="message-soumission" class="mt-4 fw-bold text-success"></div>
  </section>

  <a href="suivi.html" class="btn btn-primary text-center mt-3 ms-3" id="btn-next-admin">
    Suivez l'avancement de vos primes >>
  </a>
  <a href="index.html" class="btn btn-success text-center mt-3 ms-3" id="btn-next-admin">
    Retour au menu principal
  </a>

  <!-- <script type="module" src="js/main.js"></script> -->
</body>
</html>
