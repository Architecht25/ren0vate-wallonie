<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ren0vate/Primes RF</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Feuille de style CSS -->
  <link rel="stylesheet" href="CSS/style.css">
  <link rel="stylesheet" href="CSS/components/card.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
  <script type="importmap">
  {
    "imports": {
      "sweetalert2": "https://cdn.jsdelivr.net/npm/sweetalert2@11.7.1/+esm",
      "bootstrap": "https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    }
  }
</script>
</head>
<body class="p-4 text-center">

  <!-- dÃ©pÃ´t ici des codes pour introduction des demandes de primes -->
  <h1 class="mb-4 text-center w-100">PrÃ©avisualisation votre demande via votre formulaire Miroir et introduisez ensuite votre demande</h1>

  <!-- Ã‰tape 0 : Condition prÃ©alable -->
  <section id="section-condition" class="formulaire-prime mt-5">
    <h3>0. Conditions prÃ©alables</h3>
    <p>Le dÃ©pÃ´t de votre demande ne peut se faire que si vous Ãªtes domiciliÃ© dans votre bien aprÃ¨s travaux</p>
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="domicile" name="domicile" value="domicile" required>
      <label class="form-check-label" for="domicile">Etes-vous bien domiciliÃ© dans votre bien?</label>
    </div>
  </section>

  <!-- Ã‰tape 1 & 2: Profil du demandeur + DonnÃ©es du logement -->
  <section id="section-profil" class="formulaire-prime mt-5">
    <h3>1. Profil du demandeur</h3>

    <label for="type-demandeur">Type de demandeur *</label>
    <select id="type-demandeur" name="type_demandeur" required>
      <option disabled selected value="">-- SÃ©lectionnez --</option>
      <option value="particulier">Particulier</option>
      <option value="societe">SociÃ©tÃ©</option>
      <option value="syndic">Syndicat de copropriÃ©tÃ©</option>
      <option value="bailleur_social">Bailleur social</option>
      <option value="asbl_cooperative">ASBL ou CoopÃ©rative</option>
    </select>

    <label for="nom">Nom du demandeur *</label>
    <input type="text" id="nom" name="nom" required />

    <label for="prenom">PrÃ©nom du demandeur *</label>
    <input type="text" id="prenom" name="prenom" required />

    <label for="registre-national">NumÃ©ro de registre national ou BCE *</label>
    <input type="text" id="registre-national" name="registre_national" required />

    <label for="telephone">TÃ©lÃ©phone *</label>
    <input type="tel" id="telephone" name="telephone" required />

    <label for="email">Adresse email *</label>
    <input type="email" id="email" name="email" required />
  </section>

  <!-- Ã‰tape 2 : DonnÃ©es du logement concernÃ© -->
  <section id="section-logement" class="formulaire-prime mt-5">
    <h3 class="mt-4">2. DonnÃ©es du logement concernÃ©</h3>

    <label for="adresse">Votre code EAN*</label>
    <input type="text" id="ean" name="ean" placeholder="Ex: 54144..." />

    <label for="adresse">Adresse du logement *</label>
    <input type="text" id="adresse" name="adresse" required />

    <label for="code-postal">Code postal *</label>
    <input type="text" id="code-postal" name="code_postal" required />

    <label for="commune">Commune *</label>
    <input type="text" id="commune" name="commune" required />

    <label for="type-bien">Type de bien *</label>
    <select id="type-bien" name="type_bien" required>
      <option disabled selected value="">-- SÃ©lectionnez --</option>
      <option value="maison">Maison unifamiliale</option>
      <option value="appartement">Appartement</option>
      <option value="immeuble">Immeuble avec plusieurs unitÃ©s</option>
    </select>

    <label for="usage">Usage du bien *</label>
    <select id="usage" name="usage" required>
      <option disabled selected value="">-- SÃ©lectionnez --</option>
      <option value="residence_principale">RÃ©sidence principale</option>
      <option value="location">Bien en location</option>
      <option value="autre">Autre</option>
    </select>

    <label for="parcelle">NumÃ©ro de parcelle (optionnel)</label>
    <input type="text" id="parcelle" name="parcelle" />
  </section>

  <!-- Ã‰tape 2.1 : Informations complÃ©mentaires -->
  <section id="section-infos-complementaires" class="formulaire-prime mt-5">
    <h3 class="mt-4">2.1 Informations complÃ©mentaires sur le systÃ¨me de chauffage</h3>
    <label for="chauffage-post-renovation">SystÃ¨me de chauffage aprÃ¨s rÃ©novation *</label>
      <select id="chauffage-post-renovation" name="chauffage_post_renovation" required>
        <option disabled selected value="">-- SÃ©lectionnez --</option>
        <option value="gaz">Chauffage central au gaz (condensation)</option>
        <option value="mazout">Chauffage au mazout</option>
        <option value="electrique">Chauffage Ã©lectrique direct</option>
        <option value="pac-air-eau">Pompe Ã  chaleur air/eau</option>
        <option value="pac-geothermique">Pompe Ã  chaleur gÃ©othermique</option>
        <option value="reseau-chaleur">RÃ©seau de chaleur</option>
        <option value="bois">PoÃªle / insert bois / biomasse</option>
        <option value="autre">Autre (Ã  spÃ©cifier)</option>
        <option value="ne_sais_pas">Je ne sais pas</option>
      </select>
  </section>

  <!-- Ã‰tape 3 : Travaux Ã  dÃ©clarer -->
  <section id="travaux-section" class="formulaire-prime mt-5">
    <h3>3. Travaux Ã  dÃ©clarer</h3>
    <p>Veuillez cocher les types de travaux envisagÃ©s et complÃ©ter les champs demandÃ©s pour chaque type sÃ©lectionnÃ©.</p>

    <!-- Isolation toiture -->
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="travaux-toiture" name="travaux[]" value="toiture">
      <label class="form-check-label" for="travaux-toiture">Isolation de la toiture</label>
    </div>
    <div id="details-toiture" class="travaux-details d-none">
      <label for="surface-toiture">Surface (mÂ²)</label>
      <input type="number" id="surface-toiture" name="surface_toiture" min="0" step="1">
      <label for="type-toiture">MÃ©thode</label>
      <select id="type-toiture" name="type_toiture">
        <option value="">-- SÃ©lectionnez --</option>
        <option value="interieur">Par lâ€™intÃ©rieur</option>
        <option value="exterieur">Par lâ€™extÃ©rieur</option>
      </select>
    </div>

    <!-- Isolation murs extÃ©rieurs -->
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="travaux-murs" name="travaux[]" value="murs">
      <label class="form-check-label" for="travaux-murs">Isolation des murs extÃ©rieurs</label>
    </div>
    <div id="details-murs" class="travaux-details d-none">
      <label for="surface-murs">Surface (mÂ²)</label>
      <input type="number" id="surface-murs" name="surface_murs" min="0" step="1">
      <label for="type-murs">MÃ©thode</label>
      <select id="type-murs" name="type_murs">
        <option value="">-- SÃ©lectionnez --</option>
        <option value="creux">Murs creux</option>
        <option value="interieur">Par lâ€™intÃ©rieur</option>
        <option value="exterieur">Par lâ€™extÃ©rieur</option>
      </select>
    </div>

    <!-- Vitrage -->
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="travaux-vitrage" name="travaux[]" value="vitrage">
      <label class="form-check-label" for="travaux-vitrage">Remplacement du vitrage</label>
    </div>
    <div id="details-vitrage" class="travaux-details d-none">
      <label for="surface-vitrage">Surface (mÂ²)</label>
      <input type="number" id="surface-vitrage" name="surface_vitrage" min="0" step="1">
    </div>

    <!-- Isolation du sol -->
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="travaux-sol" name="travaux[]" value="sol">
      <label class="form-check-label" for="travaux-sol">Isolation du sol ou des caves</label>
    </div>
    <div id="details-sol" class="travaux-details d-none">
      <label for="surface-sol">Surface (mÂ²)</label>
      <input type="number" id="surface-sol" name="surface_sol" min="0" step="1">
    </div>

    <!-- Chauffage (chaudiÃ¨re ou PAC) -->
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="travaux-chauffage" name="travaux[]" value="chauffage">
      <label class="form-check-label" for="travaux-chauffage">Installation d'une pompe Ã  clhaleur et chauffe-eau thermodynamique</label>
    </div>
    <div id="details-chauffage" class="travaux-details d-none">
      <label for="type-chauffage">Type de systÃ¨me</label>
      <select id="type-chauffage" name="type_chauffage">
        <option value="">-- SÃ©lectionnez --</option>
        <option value="pac-geothermique">Pompe Ã  chaleur gÃ©othermique</option>
        <option value="pac-air-eau">Pompe Ã  chaleur air/eau</option>
        <option value="pac-air-air">Pompe Ã  chaleur air/air</option>
        <option value="hybride">Pompe Ã  chaleur hybride</option>
        <option value="boiler">Boiler thermodynamique</option>
      </select>
    </div>

  </section>

  <!-- Ã‰tape 3.1 â€“ Travaux complÃ©mentaires et non subventionnÃ©s -->
  <section id="travaux-complementaires" class="formulaire-prime mt-5">
    <h4 class="mb-4">ğŸ”§ Travaux complÃ©mentaires (prÃ©paratoires ou non subventionnÃ©s)</h4>

    <!-- Travaux prÃ©paratoires -->
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="travaux-preparatoires" name="travaux[]" value="preparatoires">
      <label class="form-check-label fw-bold" for="travaux-preparatoires">
        Travaux prÃ©paratoires Ã  lâ€™isolation
      </label>
    </div>
    <div id="details-preparatoires" class="travaux-details d-none ms-3">
      <label for="type-preparatoires">Type de prÃ©paratifs</label>
      <input type="text" id="type-preparatoires" name="type_preparatoires" placeholder="Ex : retrait du plafonnage" class="form-control mb-2">
      <label for="montant-preparatoires">Montant total facturÃ© (â‚¬)</label>
      <input type="number" id="montant-preparatoires" name="montant_preparatoires" min="0" step="10" class="form-control">
    </div>

    <!-- Travaux dâ€™Ã©lectricitÃ© -->
    <div class="form-check mt-4">
      <input class="form-check-input" type="checkbox" id="travaux-electricite" name="travaux[]" value="electricite">
      <label class="form-check-label fw-bold" for="travaux-electricite">
        Travaux prÃ©paratoire sanitaires et Ã©lectricitÃ©
      </label>
    </div>
    <div id="details-electricite" class="travaux-details d-none ms-3">
      <label for="type-electricite">Nature des travaux</label>
      <input type="text" id="type-electricite" name="type_electricite" placeholder="Ex : Mise en conformitÃ© RGIE, tableau Ã©lectriqueâ€¦" class="form-control mb-2">
      <label for="montant-electricite">Montant estimÃ© ou facturÃ© (â‚¬)</label>
      <input type="number" id="montant-electricite" name="montant_electricite" min="0" step="10" class="form-control">
    </div>
  </section>

  <!-- Ã‰tape 4 : Revenus et catÃ©gorie de prime -->
  <section id="section-revenus" class="formulaire-prime mt-5">
    <h3>4. Revenus et composition du mÃ©nage</h3>

    <!-- Revenus imposables du mÃ©nage -->
    <label for="revenus-annuels">Revenus annuels imposables (mÃ©nage complet) *</label>
    <input type="number" id="revenus-annuels" name="revenus_annuels" min="0" step="100" placeholder="Ex : 42 000" required>

    <!-- AnnÃ©e de l'AER -->
    <label for="annee-aer">AnnÃ©e de lâ€™avertissement extrait de rÃ´le utilisÃ© *</label>
    <select id="annee-aer" name="annee_aer" required>
      <option disabled selected value="">-- SÃ©lectionnez une annÃ©e --</option>
      <option value="2023">2023 (revenus 2022)</option>
      <option value="2022">2022 (revenus 2021)</option>
      <option value="2021">2021 (revenus 2020)</option>
    </select>

    <!-- Composition du mÃ©nage -->
    <label for="nombre-personnes-charge">Nombre de personnes Ã  charge *</label>
    <input type="number" id="nombre-personnes-charge" name="personnes_charge" min="0" max="10" value="0" required>
  </section>

  <!-- Ã‰tape 5 : Documents Ã  fournir -->
  <section id="section-documents" class="formulaire-prime mt-5">
  <h3>5. Documents justificatifs</h3>

  <p class="mb-3">Joignez les documents nÃ©cessaires Ã  lâ€™analyse de votre demande. Les formats acceptÃ©s sont PDF, JPG ou PNG.</p>

  <!-- Devis -->
  <label for="upload-factures">ğŸ“ Devis des travaux *</label>
  <input type="file" id="upload-devis" name="document_devis" accept=".pdf,.jpg,.jpeg,.png" multiple required>

  <!-- Factures -->
  <label for="upload-factures">ğŸ“ Factures des travaux *</label>
  <input type="file" id="upload-factures" name="document_factures" accept=".pdf,.jpg,.jpeg,.png" multiple required>

  <!-- Etats d'avancement -->
  <label for="upload-avancement">ğŸ“Š Etats d'avancement (si disponible)</label>
  <input type="file" id="upload-avancement" name="document_avancement" accept=".pdf,.jpg,.jpeg,.png">

  <!-- Attestations entrepreneur -->
  <label for="upload-attestations">ğŸ§‘â€ğŸ”§ Attestations des entrepreneurs</label>
  <input type="file" id="upload-attestations" name="document_attestations" accept=".pdf,.jpg,.jpeg,.png" multiple>

  <!-- PEB -->
  <label for="upload-peb">ğŸ“Š Certificat PEB (si disponible)</label>
  <input type="file" id="upload-peb" name="document_peb" accept=".pdf,.jpg,.jpeg,.png">

  <!-- photo -->
  <label for="upload-photo">ğŸ“Š Photos</label>
  <input type="file" id="upload-photo" name="document_photo" accept=".pdf,.jpg,.jpeg,.png">

  <!-- label -->
  <label for="upload-label">ğŸ“Š label europÃ©en</label>
  <input type="file" id="upload-label" name="document_label" accept=".pdf,.jpg,.jpeg,.png">

  <!-- conformitÃ© -->
  <label for="upload-conformitÃ©">ğŸ“Š Attestations de conformitÃ©</label>
  <input type="file" id="upload-conformitÃ©" name="document_conformitÃ©" accept=".pdf,.jpg,.jpeg,.png">

  <!-- plans -->
  <label for="upload-plans">ğŸ“Š Plans</label>
  <input type="file" id="upload-plans" name="document_plans" accept=".pdf,.jpg,.jpeg,.png">

  <!-- permis -->
  <label for="upload-permis">ğŸ“Š Permis</label>
  <input type="file" id="upload-permis" name="document_permis" accept=".pdf,.jpg,.jpeg,.png">

  <!-- Autres documents -->
  <label for="upload-autres">ğŸ“‚ Autres documents utiles</label>
  <input type="file" id="upload-autres" name="document_autres" accept=".pdf,.jpg,.jpeg,.png" multiple>

  </section>

  <!-- Ã‰tape 6 : Soumission du formulaire -->
  <section id="section-soumission" class="formulaire-prime mt-5">
  <h3>6. Soumission de la demande</h3>

  <!-- RÃ©capitulatif -->
  <p class="mb-3">
    Vous Ãªtes sur le point de soumettre votre demande de primes. Veuillez vÃ©rifier que toutes les informations sont correctes et que les documents justificatifs ont bien Ã©tÃ© joints.
  </p>

  <!-- Confirmation utilisateur -->
  <div class="form-check my-3">
    <input class="form-check-input" type="checkbox" id="confirmation-veracite" name="confirmation_veracite" required>
    <label class="form-check-label fw-bold" for="confirmation-veracite">
      Je confirme que les informations fournies sont exactes et complÃ¨tes Ã  ma connaissance.
    </label>
  </div>

  <!-- Email de contact -->
  <label for="email-contact">ğŸ“§ Adresse email pour le suivi de la demande *</label>
  <input type="email" id="email-contact" name="email_contact" placeholder="Ex : nom@email.com" required>

  <!-- Envoi -->
  <div class="mt-4 d-flex flex-column flex-md-row gap-3">
    <button type="submit" class="btn-custom custom-primary">
      ğŸ“© Soumettre la demande
    </button>
    <button type="button" class="btn-custom custom-primary" onclick="telechargerResume()">
      ğŸ’¾ TÃ©lÃ©charger le rÃ©sumÃ© PDF
    </button>
  </div>

  <!-- Message de validation -->
  <div id="message-soumission" class="mt-4 fw-bold text-success"></div>
  </section>

  <a href="suivi.html" class="btn btn-primary text-center mt-3 ms-3" id="btn-next-admin">
    Suivez l'avancement de vos primes >>
  </a>
  <a href="index.html" class="btn btn-success text-center mt-3 ms-3" id="btn-next-admin">
    Retour au menu principal
  </a>

  <!-- <script type="module" src="js/main.js"></script> -->
</body>
</html>
